<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N·ªÅn t·∫£ng B√†i t·∫≠p S√°ng t·∫°o NDS</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Th√™m font Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* S·ª≠ d·ª•ng font Inter l√†m m·∫∑c ƒë·ªãnh */
        body { 
            font-family: 'Inter', sans-serif; 
            /* N·ªÅn Gradient ƒê·ªông m·ªõi */
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #334155; /* Slate-700 */
        }

        /* Animation Gradient Background */
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Animation Tr√¥i n·ªïi (Floating) */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* --- Class t√πy ch·ªânh cho hi·ªáu ·ª©ng Liquid Glass & Floating --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
            /* Th√™m hi·ªáu ·ª©ng Floating */
            animation: float 6s ease-in-out infinite;
        }
        /* Th√™m delay nh·∫π cho c√°c panel kh√°c nhau ƒë·ªÉ t·∫°o c·∫£m gi√°c t·ª± nhi√™n */
        .glass-panel:nth-child(even) { animation-delay: 1s; }
        .glass-panel:nth-child(odd) { animation-delay: 0.5s; }

        /* --- Hi·ªáu ·ª©ng 3D Tilt khi Hover --- */
        .tilt-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            perspective: 1000px;
        }
        .tilt-card:hover {
            transform: rotateX(5deg) rotateY(-5deg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .glass-sidebar {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-right: 1px solid rgba(255, 255, 255, 0.6);
            /* Th√™m hi·ªáu ·ª©ng Floating nh·∫π cho sidebar */
            animation: float 8s ease-in-out infinite;
        }

        .glass-input {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(4px);
            transition: all 0.3s ease;
        }
        .glass-input:focus {
            background: rgba(255, 255, 255, 0.9);
            border-color: #a78bfa; /* Violet-400 */
            box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.2);
            outline: none;
        }

        .glass-btn {
            background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%); /* Indigo to Purple */
            color: white;
            border: none;
            box-shadow: 0 4px 15px rgba(129, 140, 248, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .glass-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(129, 140, 248, 0.4);
            opacity: 0.95;
        }

        /* N√∫t m√†u cam ƒë·∫∑c bi·ªát cho t√≠nh nƒÉng m·ªõi */
        .glass-btn-orange {
            background: linear-gradient(135deg, #f97316 0%, #fbbf24 100%);
        }
        .glass-btn-pink {
            background: linear-gradient(135deg, #ec4899 0%, #f43f5e 100%);
        }
        .glass-btn-teal {
            background: linear-gradient(135deg, #2dd4bf 0%, #06b6d4 100%);
        }

        /* ·∫®n t·∫•t c·∫£ c√°c trang n·ªôi dung theo m·∫∑c ƒë·ªãnh */
        .page-content { 
            display: none; 
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hi·ªÉn th·ªã trang ƒëang ho·∫°t ƒë·ªông */
        .page-content.active { 
            display: block; 
        }

        /* Ki·ªÉu cho link ƒëi·ªÅu h∆∞·ªõng ƒëang ho·∫°t ƒë·ªông */
        .nav-link {
            transition: all 0.3s ease;
            color: #475569; /* Slate-600 */
            border-radius: 0.75rem; /* rounded-xl */
        }
        .nav-link:hover {
            background: rgba(255, 255, 255, 0.5);
            color: #7c3aed; /* Violet-600 */
        }
        .nav-link.active {
            background: linear-gradient(90deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 100%);
            color: #6d28d9; /* Violet-700 */
            font-weight: 700;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #8b5cf6; /* Violet-500 */
        }

        /* ƒê·ªãnh nghƒ©a l·ªõp answer-box (k·∫ø th·ª´a glass-input) */
        .answer-box {
            margin-top: 0.75rem;
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.75rem; /* rounded-xl */
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(209, 213, 219, 0.5);
        }
        .answer-box:focus {
            background: rgba(255, 255, 255, 0.95);
            outline: 2px solid transparent;
            outline-offset: 2px;
            border-color: #a78bfa;
            box-shadow: 0 0 0 3px rgba(196, 181, 253, 0.5);
        }

        /* --- CSS cho Modal v√† Spinner --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.1); /* N·ªÅn k√≠nh m·ªù cho overlay */
            backdrop-filter: blur(5px);
            display: none; 
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        .modal-overlay.active {
            display: flex; 
        }
        .modal-content {
            background: rgba(255, 255, 255, 0.85); /* Glass modal */
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            padding: 0;
            border-radius: 1rem;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            /* Th√™m hi·ªáu ·ª©ng Floating cho modal */
            animation: float 7s ease-in-out infinite;
        }
        .modal-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.5);
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
        }
        .modal-title {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(to right, #7c3aed, #db2777);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .modal-body-container {
            padding: 1.5rem;
            overflow-y: auto;
            flex: 1;
            font-family: 'Inter', sans-serif;
        }
        .modal-body-text {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #334155;
        }
        /* Styles cho Markdown */
        .markdown-content h3 { font-weight: 700; font-size: 1.1em; margin-top: 1em; margin-bottom: 0.5em; color: #4c1d95; }
        .markdown-content strong { font-weight: 700; color: #701a75; }
        .markdown-content ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
        .markdown-content li { margin-bottom: 0.25em; }
        
        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex;
            justify-content: flex-end;
            background: rgba(255,255,255,0.3);
            border-bottom-left-radius: 1rem;
            border-bottom-right-radius: 1rem;
        }
        .modal-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(167, 139, 250, 0.3); 
            border-top-color: #8b5cf6; 
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Ki·ªÉu CSS cho b·∫£n in */
        @media print {
            body { font-family: 'Times New Roman', Times, serif; color: #000; background: none !important; }
            .glass-panel, .glass-sidebar, .modal-content { background: none !important; border: none !important; box-shadow: none !important; backdrop-filter: none !important; animation: none !important; }
            nav, .print-exercise-button, button { display: none !important; }
            main { padding: 0 !important; margin: 0 !important; width: 100% !important; }
            .page-content { display: none !important; }
            .page-content.active { display: block !important; }
            .answer-box { border: 1px dashed #999 !important; background: #fff !important; }
            #q2-a-details.hidden, #q2-b-details.hidden { display: none !important; }
        }
        
        /* Ti√™u ƒë·ªÅ nh√≥m Sidebar */
        .sidebar-group-title {
            text-transform: uppercase;
            font-size: 0.75rem;
            font-weight: 800;
            color: #6b7280;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            padding-left: 0.75rem;
            letter-spacing: 0.05em;
        }

        /* Label Phase */
        .phase-label {
            display: inline-block;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            background: rgba(255,255,255,0.5);
            color: #4b5563;
        }
    </style>
</head>
<body class="min-h-screen">

    <div class="flex flex-col md:flex-row min-h-screen">
        
        <!-- Thanh ƒëi·ªÅu h∆∞·ªõng b√™n (Sidebar Glass) -->
        <nav class="w-full md:w-72 glass-sidebar p-5 space-y-2 shrink-0 flex flex-col z-10 overflow-y-auto max-h-screen">
            <h1 class="text-2xl font-bold mb-4 text-center bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-pink-600">
                NƒÉng l·ª±c S√°ng t·∫°o NDS
            </h1>
            <a href="#" class="nav-link active block p-3 text-sm" data-target="page-home">Trang ch·ªß</a>

            <!-- NH√ìM 1: PH√ÅT TRI·ªÇN NDS (3 B√ÄI C∆† B·∫¢N) -->
            <div class="sidebar-group-title text-violet-600">Ph√°t tri·ªÉn NDS (C∆° b·∫£n)</div>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-1-1">BT 1.1: Thi·∫øt k·∫ø video (SMART)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-1-2">BT 1.2: Thi·∫øt k·∫ø √Åp ph√≠ch (Tr·ª±c quan)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-1-3">BT 1.3: T·∫°o Animation</a>

            <!-- NH√ìM 2: T√çCH H·ª¢P & T√ÅI L·∫¨P (4 B√ÄI C∆† B·∫¢N) -->
            <div class="sidebar-group-title text-pink-600">T√≠ch h·ª£p & T√°i l·∫≠p (C∆° b·∫£n)</div>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-2-1">BT 2.1: Infographic (ƒê·ªì h·ªça th√¥ng tin)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-2-2">BT 2.2: Bi√™n t·∫≠p l·∫°i Video (L·ªìng ti·∫øng)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-2-3">BT 2.3: S√°ch ƒëi·ªán t·ª≠ (E-book)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-2-4">BT 2.4: H√†nh tr√¨nh s·ªë (Truy t√¨m ki·∫øn th·ª©c)</a>

            <!-- NH√ìM 3: C√ÅC NƒÇNG L·ª∞C KH√ÅC -->
            <div class="sidebar-group-title text-slate-500">NƒÉng l·ª±c B·ªï tr·ª£</div>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-3">BT 3: B·∫£n quy·ªÅn s·ªë (Lu·∫≠t B·∫£n quy·ªÅn)</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-basic-4">BT 4: T∆∞ duy L·∫≠p tr√¨nh</a>

            <!-- Nh√≥m B√†i t·∫≠p N√¢ng cao -->
            <div class="sidebar-group-title text-emerald-600">Chuy√™n s√¢u (N√¢ng cao)</div>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-bt1">BT N√¢ng cao 1: E-learning</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-bt2">BT N√¢ng cao 2: T√≠ch h·ª£p</a>
            <a href="#" class="nav-link block p-3 text-sm" data-target="page-bt3">BT N√¢ng cao 3: L·∫≠p tr√¨nh</a>
        </nav>

        <!-- Khu v·ª±c n·ªôi dung ch√≠nh -->
        <main class="flex-1 p-6 md:p-10 overflow-auto z-0 h-screen">

            <!-- Trang: Trang ch·ªß -->
            <div id="page-home" class="page-content active space-y-6">
                <h2 class="text-3xl font-bold text-slate-800 mb-4 drop-shadow-sm">H·ªá th·ªëng B√†i t·∫≠p C∆° b·∫£n & N√¢ng cao</h2>
                <div class="glass-panel tilt-card p-8 rounded-2xl">
                    <p class="text-lg text-slate-700 leading-relaxed mb-4">
                        Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi n·ªÅn t·∫£ng th·ª±c h√†nh NDS. H·ªá th·ªëng bao g·ªìm 2 c·∫•p ƒë·ªô:
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="p-4 bg-white/40 rounded-xl border border-white/50">
                            <h3 class="font-bold text-violet-700 mb-2">üöÄ C∆° b·∫£n (Kh·ªüi ƒë·ªông)</h3>
                            <ul class="list-disc list-inside text-slate-700 text-sm space-y-1">
                                <li>Ph√°t tri·ªÉn Video, √Åp ph√≠ch, K·ªãch b·∫£n.</li>
                                <li>T√°i l·∫≠p ƒê·ªì h·ªça th√¥ng tin, Bi√™n t·∫≠p Video, S√°ch ƒëi·ªán t·ª≠.</li>
                                <li>Th·ª±c h√†nh B·∫£n quy·ªÅn & T∆∞ duy L·∫≠p tr√¨nh.</li>
                            </ul>
                        </div>
                        <div class="p-4 bg-white/40 rounded-xl border border-white/50">
                            <h3 class="font-bold text-emerald-600 mb-2">üî• N√¢ng cao (Chuy√™n s√¢u)</h3>
                            <ul class="list-disc list-inside text-slate-700 text-sm space-y-1">
                                <li>Thi·∫øt k·∫ø E-learning to√†n di·ªán (B√†i gi·∫£ng E-learning).</li>
                                <li>D·ª± √°n T√≠ch h·ª£p ƒëa ph∆∞∆°ng ti·ªán (Flipbook/Website).</li>
                                <li>L·∫≠p tr√¨nh m√¥ ph·ªèng t∆∞∆°ng t√°c cao (p5.js).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ================= B√ÄI T·∫¨P C∆† B·∫¢N ================= -->
            
            <!-- BT 1.1 -->
            <div id="page-basic-1-1" class="page-content space-y-6">
                <div class="flex justify-between items-center mb-4"><h2 class="text-3xl font-bold text-slate-800">BT 1.1: Thi·∫øt k·∫ø video (M·ª•c ti√™u SMART)</h2><a href="#" class="print-exercise-button p-2 bg-white/50 rounded-lg text-xs font-bold">In b√†i</a></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <span class="phase-label">P1: Tr·∫£i nghi·ªám</span>
                    <h3 class="text-xl font-bold text-violet-700 mb-3">V·∫•n ƒë·ªÅ th·ª±c ti·ªÖn</h3>
                    <p class="text-slate-700">H√£y thi·∫øt k·∫ø video v·ªÅ ki·∫øn th·ª©c kh√°i ni·ªám m·ªôt c√°ch sinh ƒë·ªông v√† h·∫•p d·∫´n thu h√∫t ng∆∞·ªùi h·ªçc.</p>
                </div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Ph√¢n t√≠ch SMART</h3><textarea id="bt1-1-smart-goal" class="answer-box" rows="3" placeholder="M·ª•c ti√™u video SMART..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-orange py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="smart-review" data-source="bt1-1-smart-goal">‚ú® AI Ki·ªÉm tra SMART</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">K·ªãch b·∫£n 3 ph·∫ßn</h3><div class="grid grid-cols-3 gap-2"><textarea class="answer-box" rows="4" placeholder="M·ªü ƒë·∫ßu"></textarea><textarea class="answer-box" rows="4" placeholder="N·ªôi dung"></textarea><textarea class="answer-box" rows="4" placeholder="K·∫øt th√∫c"></textarea></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link s·∫£n ph·∫©m:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 1.2 -->
            <div id="page-basic-1-2" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 1.2: Thi·∫øt k·∫ø √Åp ph√≠ch (Tr·ª±c quan)</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P1: Tr·∫£i nghi·ªám</span><h3 class="text-xl font-bold text-violet-700 mb-3">Th√¥ng ƒëi·ªáp b·ªã l√£ng qu√™n</h3><p class="text-slate-700">√Åp ph√≠ch nhi·ªÅu ch·ªØ, r·ªëi r·∫Øm.</p></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Nguy√™n t·∫Øc CRAP</h3><div class="grid grid-cols-2 gap-4"><textarea class="answer-box" rows="2" placeholder="Contrast (T∆∞∆°ng ph·∫£n)"></textarea><textarea class="answer-box" rows="2" placeholder="Repetition (L·∫∑p l·∫°i)"></textarea><textarea class="answer-box" rows="2" placeholder="Alignment (CƒÉn ch·ªânh)"></textarea><textarea class="answer-box" rows="2" placeholder="Proximity (G·∫ßn g≈©i)"></textarea></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">Ph√°c th·∫£o B·ªë c·ª•c</h3><textarea id="bt1-2-layout" class="answer-box" rows="4" placeholder="M√¥ t·∫£ b·ªë c·ª•c..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-teal py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="design-layout" data-source="bt1-2-layout">‚ú® AI G·ª£i √Ω B·ªë c·ª•c</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link Canva:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 1.3 -->
            <div id="page-basic-1-3" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 1.3: T·∫°o Animation</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P1: Tr·∫£i nghi·ªám</span><h3 class="text-xl font-bold text-violet-700 mb-3">B√†i gi·∫£ng m·ªôt chi·ªÅu</h3><p class="text-slate-700">Slide to√†n ch·ªØ, h·ªçc sinh th·ª• ƒë·ªông.</p></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">K·ªÉ chuy·ªán</h3><textarea class="answer-box" rows="2" placeholder="Nh√¢n v·∫≠t ch√≠nh..."></textarea><textarea class="answer-box" rows="2" placeholder="Xung ƒë·ªôt..."></textarea></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">S∆° ƒë·ªì Nh√°nh</h3><textarea id="bt1-3-story" class="answer-box" rows="4" placeholder="M√¥ t·∫£ c√°c nh√°nh r·∫Ω..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-pink py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="story-branch" data-source="bt1-3-story">‚ú® AI G·ª£i √Ω Nh√°nh</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link k·ªãch b·∫£n/slide:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>

            <!-- BT 2.1 -->
            <div id="page-basic-2-1" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 2.1: Infographic (ƒê·ªì h·ªça th√¥ng tin)</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P1: Tr·∫£i nghi·ªám</span><h3 class="text-xl font-bold text-violet-700 mb-3">Th√¥ng tin r·ªùi r·∫°c</h3><p class="text-slate-700">D·ªØ li·ªáu bi·∫øn ƒë·ªïi kh√≠ h·∫≠u ph√¢n m·∫£nh.</p></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">ƒê√°nh gi√° Ngu·ªìn tin</h3><textarea class="answer-box" rows="3" placeholder="3 ngu·ªìn uy t√≠n..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-teal py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="source-eval">‚ú® AI Ti√™u ch√≠ ƒë√°nh gi√°</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">K·ªãch b·∫£n ƒê·ªì h·ªça (Storyboard)</h3><textarea class="answer-box" rows="4" placeholder="Ph√°c th·∫£o n·ªôi dung..."></textarea></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link ƒê·ªì h·ªça th√¥ng tin (Infographic):</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 2.2 -->
            <div id="page-basic-2-2" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 2.2: Bi√™n t·∫≠p Video (L·ªìng ti·∫øng)</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P1: Tr·∫£i nghi·ªám</span><h3 class="text-xl font-bold text-violet-700 mb-3">R√†o c·∫£n ng√¥n ng·ªØ</h3><p class="text-slate-700">Video hay nh∆∞ng ti·∫øng Anh.</p></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Ph√¢n t√≠ch & D·ªãch</h3><textarea id="bt2-2-transcript" class="answer-box" rows="3" placeholder="N·ªôi dung g·ªëc..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-orange py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="translate-script" data-source="bt2-2-transcript">‚ú® AI H·ªó tr·ª£ D·ªãch</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">K·ªãch b·∫£n L·ªìng ti·∫øng</h3><textarea class="answer-box" rows="4" placeholder="L·ªùi b√¨nh m·ªõi..."></textarea></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link video ƒë√£ bi√™n t·∫≠p:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 2.3 -->
            <div id="page-basic-2-3" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 2.3: S√°ch ƒëi·ªán t·ª≠ (E-book)</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P1: Tr·∫£i nghi·ªám</span><h3 class="text-xl font-bold text-violet-700 mb-3">T√†i li·ªáu kh√¥ khan</h3><p class="text-slate-700">File Word d√†i to√†n ch·ªØ.</p></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">ƒêa ph∆∞∆°ng ti·ªán</h3><div class="grid grid-cols-2 gap-2"><label><input type="checkbox" class="mr-2"> Video</label><label><input type="checkbox" class="mr-2"> √Çm thanh (Audio)</label><label><input type="checkbox" class="mr-2"> C√¢u h·ªèi (Quiz)</label><label><input type="checkbox" class="mr-2"> ·∫¢nh ƒë·ªông (GIF)</label></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">C·∫•u tr√∫c S√°ch ƒëi·ªán t·ª≠</h3><textarea id="bt2-3-ebook" class="answer-box" rows="4" placeholder="D√†n √Ω 5 trang..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-pink py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="ebook-structure" data-source="bt2-3-ebook">‚ú® AI G·ª£i √Ω C·∫•u tr√∫c</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link S√°ch ƒëi·ªán t·ª≠:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 2.4 -->
            <div id="page-basic-2-4" class="page-content space-y-6">
                <h2 class="text-3xl font-bold text-slate-800">BT 2.4: H√†nh tr√¨nh s·ªë (Truy t√¨m ki·∫øn th·ª©c)</h2>
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <span class="phase-label">P1: Tr·∫£i nghi·ªám</span>
                    <h3 class="text-xl font-bold text-violet-700 mb-3">L·∫°c l·ªëi th√¥ng tin</h3>
                    <p class="text-slate-700">Tr∆∞·ªõc k√¨ thi, c√≥ qu√° nhi·ªÅu ki·∫øn th·ª©c c·∫ßn ph·∫£i √¥n, HS kh√¥ng bi·∫øt b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢u. B·∫°n h√£y t·ªïng h·ª£p c√°c n·ªôi dung ƒë√£ h·ªçc th√†nh m·ªôt modun h·ªçc t·∫≠p gi√∫p ng∆∞·ªùi h·ªçc luy·ªán t·∫≠p theo ch·ªß ƒë·ªÅ.</p>
                </div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Gi√†n gi√°o (Scaffolding)</h3><textarea class="answer-box" rows="3" placeholder="Li·ªát k√™ ngu·ªìn t√†i li·ªáu theo th·ª© t·ª±..."></textarea></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P3: Kh√°i qu√°t h√≥a</span><h3 class="text-xl font-bold text-violet-700 mb-3">Thi·∫øt k·∫ø Nhi·ªám v·ª•</h3><textarea class="answer-box" rows="3" placeholder="Nhi·ªám v·ª• 1, 2, 3..."></textarea><div class="text-right mt-2"><button class="gemini-btn glass-btn-teal py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="webquest-task">‚ú® AI G·ª£i √Ω Nhi·ªám v·ª•</button></div></div>
                <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link B·ªô s∆∞u t·∫≠p (Collection):</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <!-- BT 3 & 4 -->
            <div id="page-basic-3" class="page-content space-y-6">
                 <div class="flex justify-between items-center mb-4"><h2 class="text-3xl font-bold text-slate-800">BT 3: B·∫£n quy·ªÅn s·ªë</h2></div>
                 <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Gi·∫•y ph√©p Creative Commons</h3><div class="text-right"><button class="gemini-btn glass-btn-pink py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="cc-explain">‚ú® AI Gi·∫£i th√≠ch CC</button></div></div>
                 <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">B·ªô s∆∞u t·∫≠p t√†i nguy√™n s·∫°ch:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>
            <div id="page-basic-4" class="page-content space-y-6">
                 <div class="flex justify-between items-center mb-4"><h2 class="text-3xl font-bold text-slate-800">BT 4: T∆∞ duy L·∫≠p tr√¨nh</h2></div>
                 <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P2: Ph·∫£n t∆∞</span><h3 class="text-xl font-bold text-violet-700 mb-3">Thu·∫≠t to√°n ch·∫•m ƒëi·ªÉm</h3><div class="text-right"><button class="gemini-btn glass-btn py-2 px-4 rounded-lg text-sm font-bold text-white" data-task="algo-logic">‚ú® AI G·ª£i √Ω Logic</button></div></div>
                 <div class="glass-panel tilt-card p-6 rounded-2xl"><span class="phase-label">P4: Th·ª≠ nghi·ªám</span><p class="text-slate-700">Link Quiz t·ª± ƒë·ªông:</p><input type="text" class="answer-box bg-white/80"></div>
            </div>


            <!-- ================= B√ÄI T·∫¨P N√ÇNG CAO (ƒê√É KH√îI PH·ª§C) ================= -->

            <!-- B√†i t·∫≠p N√¢ng cao 1: E-learning -->
            <div id="page-bt1" class="page-content space-y-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-bold text-slate-800 drop-shadow-sm">BT N√¢ng cao 1: Ph√°t tri·ªÉn E-learning</h2>
                    <a href="#" class="print-exercise-button p-3 rounded-xl text-sm font-bold bg-gradient-to-r from-emerald-400 to-teal-500 text-white text-center shadow-lg hover:shadow-emerald-300/50 transition-all duration-200 hover:-translate-y-0.5">
                        In B√†i 1 / Xu·∫•t PDF
                    </a>
                </div>
                
                <!-- Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m</h3>
                    <p class="text-slate-700 leading-relaxed">
                        L√† m·ªôt GVBM Sinh h·ªçc t·∫°i tr∆∞·ªùng THPT A, tham gia cu·ªôc thi ‚ÄúThi·∫øt k·∫ø b√†i gi·∫£ng E ‚Äì learning nƒÉm h·ªçc 2025-2026‚Äù v√† nh·∫≠n ch·ªß ƒë·ªÅ thi·∫øt k·∫ø b√†i gi·∫£ng thu·ªôc ch∆∞∆°ng tr√¨nh sinh h·ªçc 10. B·∫°n ƒëang ƒë·ª©ng tr∆∞·ªõc c√°c v·∫•n ƒë·ªÅ: E-learning c√≥ nh·ªØng ∆∞u vi·ªát g√¨ so v·ªõi b√†i gi·∫£ng truy·ªÅn th·ªëng? L√†m th·∫ø n√†o ƒë·ªÉ thi·∫øt k·∫ø m·ªôt b√†i gi·∫£ng E-learning c√≥ t√≠nh t∆∞∆°ng t√°c cao, gi√∫p h·ªçc sinh t·ª± kh√°m ph√°, thao t√°c v√† hi·ªÉu s√¢u ki·∫øn th·ª©c Sinh h·ªçc th√¥ng qua c√°c c√¥ng c·ª• s·ªë ph√π h·ª£p?
                    </p>
                </div>
                
                <!-- Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng</h3>
                    <div class="space-y-5 text-slate-700">
                        <div>
                            <p class="font-medium">1. X√°c ƒë·ªãnh m·ª•c ti√™u n·ªôi dung/ch·ªß ƒë·ªÅ cho b√†i gi·∫£ng E ‚Äì learning?</p>
                            <textarea id="bt1-q1-answer" class="answer-box" rows="3" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
                            <!-- T√çCH H·ª¢P M·ªöI: ƒê√ÅNH GI√Å M·ª§C TI√äU -->
                            <div class="mt-2 text-right">
                                <button type="button" id="gemini-review-goal-btn" class="glass-btn glass-btn-orange py-2 px-4 rounded-lg text-sm font-medium text-white shadow-md">
                                    ‚ú® Nh·∫≠n x√©t c√¢u tr·∫£ l·ªùi (v·ªõi Gemini)
                                </button>
                            </div>
                        </div>
                        <p class="font-medium">2. C√≥ th·ªÉ √°p d·ª•ng c√¥ng c·ª• n√†o ƒë·ªÉ nh·∫≠n th·∫•y e ‚Äì learning g√≥p ph·∫ßn n√¢ng cao hi·ªáu qu·∫£ d·∫°y h·ªçc ch·ªß ƒë·ªÅ ƒë√£ ch·ªçn so v·ªõi b√†i gi·∫£ng truy·ªÅn th·ªëng?</p>
                        <div class="ml-2 space-y-2 mt-2 p-3 rounded-xl bg-white/30">
                            <div class="flex items-center">
                                <input id="bt1-q2-a" name="bt1-q2" type="radio" class="w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 focus:ring-violet-500">
                                <label for="bt1-q2-a" class="ml-3 block">a) Kh·∫£o s√°t (thu nh·∫≠n ph·∫£n h·ªìi t·ª´ ng∆∞·ªùi h·ªçc)</label>
                            </div>
                            <div class="flex items-center">
                                <input id="bt1-q2-b" name="bt1-q2" type="radio" class="w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 focus:ring-violet-500">
                                <label for="bt1-q2-b" class="ml-3 block">b) B√†i ki·ªÉm tra cu·ªëi kh√≥a</label>
                            </div>
                        </div>
                        <p class="font-medium">3. X√°c ƒë·ªãnh ph∆∞∆°ng ti·ªán/c√¥ng ngh·ªá s·ªë m√† b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th√†nh th·∫°o ƒë·ªÉ thi·∫øt k·∫ø c√°c n·ªôi dung s·ªë cho e ‚Äì learning?</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 ml-2 mt-2 p-3 rounded-xl bg-white/30">
                            <div class="flex items-center"><input id="bt1-tool-canva" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-canva" class="ml-3">Canva/ Power Point</label></div>
                            <div class="flex items-center"><input id="bt1-tool-gpt" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-gpt" class="ml-3">GPT/Gemini</label></div>
                            <div class="flex items-center"><input id="bt1-tool-powtoon" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-powtoon" class="ml-3">Powtoon/Prezi</label></div>
                            <div class="flex items-center"><input id="bt1-tool-docs" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-docs" class="ml-3">Google docs/word</label></div>
                            <div class="flex items-center"><input id="bt1-tool-draw" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-draw" class="ml-3">Draw/ App ƒë·ªì h·ªça</label></div>
                            <div class="flex items-center"><input id="bt1-tool-kahoot" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-kahoot" class="ml-3">Kahoot</label></div>
                            <div class="flex items-center"><input id="bt1-tool-leoai" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-leoai" class="ml-3">Leonardo AI</label></div>
                            <div class="flex items-center"><input id="bt1-tool-other" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt1-tool-other" class="ml-3">Kh√°c</label></div>
                        </div>
                        <div>
                            <p class="font-medium">4. Th·ªùi gian ho√†n th√†nh E-learning?</p>
                            <textarea class="answer-box" rows="2" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o</h3>
                    <p class="text-slate-700 mb-4">Theo k·∫øt qu·∫£ ph√¢n t√≠ch c√°c y√™u c·∫ßu ·ªü ph·∫ßn thi·∫øt l·∫≠p n·ªÅn t·∫£ng, l·∫≠p k·∫ø ho·∫°ch thi·∫øt k·∫ø e ‚Äì learning theo KHBD theo h∆∞·ªõng d·∫´n b√™n d∆∞·ªõi:</p>

                    <!-- C√ÅC N√öT T√çCH H·ª¢P GEMINI API -->
                    <div class="my-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <button type="button" id="gemini-suggest-plan-btn" class="glass-btn py-3 px-6 rounded-xl font-semibold text-white">
                            ‚ú® G·ª£i √Ω K·∫ø ho·∫°ch E-learning
                        </button>
                        <button type="button" id="gemini-generate-quiz-btn" class="glass-btn py-3 px-6 rounded-xl font-semibold text-white bg-gradient-to-r from-emerald-400 to-teal-500">
                            ‚ú® G·ª£i √Ω 3 c√¢u h·ªèi Quiz H5P
                        </button>
                    </div>

                    <div class="overflow-x-auto mt-4 rounded-xl border border-white/50">
                        <table class="min-w-full divide-y divide-gray-200/50">
                            <thead class="bg-violet-50/50">
                                <tr>
                                    <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-violet-800 uppercase tracking-wider">Y√™u c·∫ßu</th>
                                    <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-violet-800 uppercase tracking-wider">H∆∞·ªõng d·∫´n</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200/50 bg-white/40 text-slate-700">
                                <tr>
                                    <td class="px-6 py-4 font-medium">Ph√¢n t√≠ch c·∫•u tr√∫c k·∫ø ho·∫°ch d·∫°y h·ªçc</td>
                                    <td class="px-6 py-4">"X√°c ƒë·ªãnh: m·ª•c ti√™u b√†i h·ªçc? n·ªôi dung tr·ªçng t√¢m? h√¨nh th·ª©c t·ªï ch·ª©c (tr·ª±c ti·∫øp, tr·ª±c tuy·∫øn, k·∫øt h·ª£p)?"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 font-medium">X√°c ƒë·ªãnh vai tr√≤ c·ªßa n·ªôi dung s·ªë trong t·ª´ng ho·∫°t ƒë·ªông h·ªçc</td>
                                    <td class="px-6 py-4">
                                        <ul class="list-disc list-inside">
                                            <li>Ho·∫°t ƒë·ªông kh·ªüi ƒë·ªông: s·ª≠ d·ª•ng video, h√¨nh ·∫£nh, c√¢u h·ªèi g·ª£i m·ªü.</li>
                                            <li>Ho·∫°t ƒë·ªông h√¨nh th√†nh/kh√°m ph√° ki·∫øn th·ª©c: video ‚Äì b·∫£i gi·∫£ng t∆∞∆°ng t√°c</li>
                                            <li>Ho·∫°t ƒë·ªông luy·ªán t·∫≠p/ƒë√°nh gi√°: quiz, tr√≤ ch∆°i, b√†i t·∫≠p t∆∞∆°ng t√°c</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 font-medium">"X√°c ƒë·ªãnh th·ªùi gian, ngu·ªìn l·ª±c v√† c√¥ng c·ª• s·ªë"</td>
                                    <td class="px-6 py-4">"L·∫≠p k·∫ø ho·∫°ch chi ti·∫øt cho t·ª´ng lo·∫°i n·ªôi dung: th·ªùi l∆∞·ª£ng, c√¥ng c·ª• (Canva, H5P, ..)"</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 font-medium">T√¨m hi·ªÉu v·ªÅ H5P</td>
                                    <td class="px-6 py-4"><a href="https://drive.google.com/file/d/1HdthPJHYe4EdaG4PBbiB6nP6ztCslysk/view?usp=sharing" target="_blank" class="text-violet-600 hover:text-violet-800 hover:underline font-medium">Link t√†i li·ªáu H5P</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o</h3>
                    <p class="text-slate-700 leading-relaxed">
                        Tham kh·∫£o t√†i li·ªáu h∆∞·ªüng d·∫´n ƒë·ªÉ s·ª≠ d·ª•ng H5P ƒë·ªÉ t·∫°o E ‚Äì learning tri·ªÉn khai KHBD v√† k·∫ø ho·∫°ch thi·∫øt k·∫ø E ‚Äì learning ƒë√£ ho√†n th√†nh ·ªü ph·∫ßn ki·∫øn t·∫°o.
                    </p>
                    <!-- B·ªï sung √¥ nh·∫≠p link s·∫£n ph·∫©m -->
                    <div class="mt-4 p-4 bg-white/30 rounded-xl border border-white/40">
                        <p class="text-slate-700 font-bold mb-2">S·∫£n ph·∫©m: N·ªôp l·∫°i 01 ƒë∆∞·ªùng link (URL) s·∫£n ph·∫©m E-learning H5P ho√†n ch·ªânh.</p>
                        <input type="text" class="answer-box bg-white/80" placeholder="D√°n ƒë∆∞·ªùng link (URL) s·∫£n ph·∫©m H5P c·ªßa b·∫°n t·∫°i ƒë√¢y...">
                    </div>
                </div>
            </div>

            <!-- B√†i t·∫≠p N√¢ng cao 2: T√≠ch h·ª£p & T√°i l·∫≠p -->
            <div id="page-bt2" class="page-content space-y-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-bold text-slate-800 drop-shadow-sm">BT N√¢ng cao 2: T√≠ch h·ª£p & T√°i l·∫≠p</h2>
                    <a href="#" class="print-exercise-button p-3 rounded-xl text-sm font-bold bg-gradient-to-r from-emerald-400 to-teal-500 text-white text-center shadow-lg hover:shadow-emerald-300/50 transition-all duration-200 hover:-translate-y-0.5">
                        In B√†i 2 / Xu·∫•t PDF
                    </a>
                </div>

                <!-- Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m</h3>
                    <p class="text-slate-700 leading-relaxed">
                        B·∫°n ƒëang c·∫ßn t·ªï ch·ª©c ho·∫°t ƒë·ªông h·ªçc cho h·ªçc sinh t√≠ch h·ª£p ki·∫øn th·ª©c c·ªßa 2 ch·ªß ƒë·ªÅ (V√≠ d·ª•: Trao ƒë·ªïi ch·∫•t v√† NƒÉng l∆∞·ª£ng + ·ª®ng d·ª•ng c√¥ng ngh·ªá sinh h·ªçc) b·∫±ng vi·ªác t√°i l·∫≠p n·ªôi dung s·ªë. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• s·ªë n√†o ƒë·ªÉ t√≠ch h·ª£p 2 ch·ªß ƒë·ªÅ n√†y? L√†m th·∫ø n√†o ƒë·ªÉ ƒë·∫£m b·∫£o h·ªçc sinh c√≥ th·ªÉ t·ª± thao t√°c v√† th·ª±c h√†nh v·ªõi n·ªôi dung t√≠ch h·ª£p n√†y?
                    </p>
                </div>

                <!-- Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng</h3>
                    <div class="space-y-5 text-slate-700">
                        <div>
                            <p class="font-medium">1. X√°c ƒë·ªãnh h√¨nh th·ª©c h·ªçc li·ªáu t√≠ch h·ª£p s·∫Ω th·ª±c hi·ªán?</p>
                            <div class="ml-2 space-y-2 mt-2 p-3 rounded-xl bg-white/30">
                                <div class="flex items-center">
                                    <input id="q1-flipbook" name="hoc-lieu-type" type="radio" value="flipbook" class="w-4 h-4 text-violet-600 focus:ring-violet-500">
                                    <label for="q1-flipbook" class="ml-3 block cursor-pointer">a) Flipbook (S√°ch ƒëi·ªán t·ª≠ t∆∞∆°ng t√°c)</label>
                                </div>
                                <div class="flex items-center">
                                    <input id="q1-website" name="hoc-lieu-type" type="radio" value="website" class="w-4 h-4 text-violet-600 focus:ring-violet-500">
                                    <label for="q1-website" class="ml-3 block cursor-pointer">b) Website (Trang web n·ªôi dung)</label>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p class="font-medium">2. X√°c ƒë·ªãnh c√¥ng c·ª• s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t√°i l·∫≠p n·ªôi dung s·ªë?</p>
                            
                            <!-- N√öT T√çCH H·ª¢P GEMINI API -->
                            <button type="button" id="gemini-tool-analysis-btn" class="my-3 glass-btn py-2 px-4 rounded-lg text-sm font-medium text-white">
                                ‚ú® G·ª£i √Ω Ph√¢n t√≠ch C√¥ng c·ª•
                            </button>

                            <div class="ml-2 space-y-4 mt-2">
                                <div class="p-4 rounded-xl bg-white/30 border border-white/40">
                                    <div class="flex items-center mb-2">
                                        <input id="q2-a-flipbook" name="tool-type" type="radio" value="flipbook-tool" disabled class="w-4 h-4 text-violet-600 focus:ring-violet-500 disabled:opacity-50">
                                        <label for="q2-a-flipbook" class="ml-3 block font-medium">a) D√πng ph·∫ßn m·ªÅm t·∫°o Flipbook (V√≠ d·ª•: FlipHTML5, PubHTML5)</label>
                                    </div>
                                    <div id="q2-a-details" class="ml-7 hidden transition-all duration-300">
                                        <p class="text-sm text-violet-700 font-semibold">∆Øu ƒëi·ªÉm:</p>
                                        <textarea id="q2-a-pros" class="answer-box mb-2" rows="2" placeholder="∆Øu ƒëi·ªÉm..."></textarea>
                                        <p class="text-sm text-violet-700 font-semibold">H·∫°n ch·∫ø:</p>
                                        <textarea id="q2-a-cons" class="answer-box" rows="2" placeholder="H·∫°n ch·∫ø..."></textarea>
                                    </div>
                                </div>

                                <div class="p-4 rounded-xl bg-white/30 border border-white/40">
                                    <div class="flex items-center mb-2">
                                        <input id="q2-b-website" name="tool-type" type="radio" value="website-tool" disabled class="w-4 h-4 text-violet-600 focus:ring-violet-500 disabled:opacity-50">
                                        <label for="q2-b-website" class="ml-3 block font-medium">b) D√πng c√¥ng c·ª• l·∫≠p tr√¨nh web (V√≠ d·ª•: HTML, CSS, Javascript)</label>
                                    </div>
                                    <div id="q2-b-details" class="ml-7 hidden transition-all duration-300">
                                        <p class="text-sm text-violet-700 font-semibold">∆Øu ƒëi·ªÉm:</p>
                                        <textarea id="q2-b-pros" class="answer-box mb-2" rows="2" placeholder="∆Øu ƒëi·ªÉm..."></textarea>
                                        <p class="text-sm text-violet-700 font-semibold">H·∫°n ch·∫ø:</p>
                                        <textarea id="q2-b-cons" class="answer-box" rows="2" placeholder="H·∫°n ch·∫ø..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p class="font-medium">3. X√°c ƒë·ªãnh th·ªùi gian ho√†n th√†nh?</p>
                            <textarea class="answer-box" rows="2" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o</h3>
                    <p class="text-slate-700 mb-4">L·∫≠p k·∫ø ho·∫°ch thi·∫øt k·∫ø v√† t√°i l·∫≠p n·ªôi dung s·ªë theo h∆∞·ªõng d·∫´n:</p>
                    <div class="overflow-x-auto mt-4 rounded-xl border border-white/50">
                        <table class="min-w-full divide-y divide-gray-200/50">
                            <thead class="bg-violet-50/50">
                                <tr>
                                    <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-violet-800 uppercase tracking-wider w-1/3">Y√™u c·∫ßu</th>
                                    <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-violet-800 uppercase tracking-wider w-2/3">K·∫ø ho·∫°ch chi ti·∫øt</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200/50 bg-white/40 text-slate-700">
                                <tr>
                                    <td class="px-6 py-4 font-medium align-top">X√°c ƒë·ªãnh c·∫•u tr√∫c n·ªôi dung</td>
                                    <td class="px-6 py-2">
                                        <textarea class="answer-box" rows="3" placeholder="Li·ªát k√™ c√°c ch·ªß ƒë·ªÅ/m·ª•c ti√™u ki·∫øn th·ª©c..."></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 font-medium align-top">X√°c ƒë·ªãnh vai tr√≤ c·ªßa n·ªôi dung s·ªë</td>
                                    <td class="px-6 py-2">
                                        <textarea class="answer-box" rows="3" placeholder="M√¥ t·∫£ c√°ch n·ªôi dung gi√∫p HS kh√°m ph√°..."></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 font-medium align-top">"X√°c ƒë·ªãnh ngu·ªìn l·ª±c, c√¥ng c·ª•"</td>
                                    <td class="px-6 py-2">
                                        <textarea class="answer-box" rows="3" placeholder="Li·ªát k√™ t√†i li·ªáu tham kh·∫£o, c√¥ng c·ª• s·ªë..."></textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o</h3>
                    <p class="text-slate-700 leading-relaxed">
                        Theo k·∫ø ho·∫°ch ƒë√£ l·∫≠p, thi·∫øt k·∫ø s·∫£n ph·∫©m n·ªôi dung s·ªë t√≠ch h·ª£p (Flipbook ho·∫∑c Website) v√† n·ªôp l·∫°i link.
                    </p>
                    <div class="mt-4 p-4 bg-white/30 rounded-xl border border-white/40 space-y-3">
                        
                        <!-- T√çCH H·ª¢P M·ªöI: √ù T∆Ø·ªûNG S√ÅNG T·∫†O -->
                        <div class="flex flex-col md:flex-row justify-between items-center bg-violet-50/50 p-4 rounded-lg border border-violet-100 mb-4">
                            <span class="text-sm font-medium text-violet-800 mb-2 md:mb-0">B·∫°n ƒëang b√≠ √Ω t∆∞·ªüng cho s·∫£n ph·∫©m?</span>
                            <button type="button" id="gemini-idea-gen-btn" class="glass-btn glass-btn-pink py-2 px-4 rounded-lg text-sm font-medium text-white shadow-md">
                                ‚ú® G·ª£i √Ω √Ω t∆∞·ªüng s·∫£n ph·∫©m
                            </button>
                        </div>

                        <p class="text-slate-700 font-bold">S·∫£n ph·∫©m: N·ªôp l·∫°i 01 ƒë∆∞·ªùng link (URL) s·∫£n ph·∫©m ho√†n ch·ªânh.</p>
                        <input type="text" class="answer-box bg-white/80" placeholder="D√°n ƒë∆∞·ªùng link (URL) s·∫£n ph·∫©m c·ªßa b·∫°n t·∫°i ƒë√¢y...">
                        <textarea class="answer-box bg-white/80" rows="5" placeholder="Vi·∫øt ƒëo·∫°n ph·∫£n t∆∞ c·ªßa b·∫°n v·ªÅ s·∫£n ph·∫©m..."></textarea>
                    </div>
                </div>
            </div>

            <!-- B√†i t·∫≠p N√¢ng cao 3: L·∫≠p tr√¨nh -->
            <div id="page-bt3" class="page-content space-y-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-bold text-slate-800 drop-shadow-sm">BT N√¢ng cao 3: L·∫≠p tr√¨nh M√¥ ph·ªèng</h2>
                    <a href="#" class="print-exercise-button p-3 rounded-xl text-sm font-bold bg-gradient-to-r from-emerald-400 to-teal-500 text-white text-center shadow-lg hover:shadow-emerald-300/50 transition-all duration-200 hover:-translate-y-0.5">
                        In B√†i 3 / Xu·∫•t PDF
                    </a>
                </div>

                <!-- Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 1: T√¨nh hu·ªëng s∆∞ ph·∫°m</h3>
                    <p class="text-slate-700 leading-relaxed">
                        B·∫°n c·∫ßn thi·∫øt k·∫ø m·ªôt m√¥ h√¨nh m√¥ ph·ªèng c∆° ch·∫ø t√°i b·∫£n DNA b·∫±ng HTML + CSS + Javascript ƒë·ªÉ h·ªçc sinh c√≥ th·ªÉ tr·ª±c quan h√≥a v√† thao t√°c. B·∫°n quy·∫øt ƒë·ªãnh s·ª≠ d·ª•ng AI ƒë·ªÉ h·ªó tr·ª£ l·∫≠p tr√¨nh. L√†m th·∫ø n√†o ƒë·ªÉ ra l·ªánh cho AI m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t ƒë·ªÉ n√≥ t·∫°o ra m·ªôt s·∫£n ph·∫©m code ch√≠nh x√°c v√† c√≥ t√≠nh s∆∞ ph·∫°m? L√†m th·∫ø n√†o ƒë·ªÉ kh·∫Øc ph·ª•c l·ªói code khi AI t·∫°o ra s·∫£n ph·∫©m b·ªã l·ªói?
                    </p>
                </div>

                <!-- Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 2: Thi·∫øt l·∫≠p n·ªÅn t·∫£ng</h3>
                    <div class="space-y-5 text-slate-700">
                        <div>
                            <p class="font-medium">1. X√°c ƒë·ªãnh m·ª•c ti√™u n·ªôi dung/ch·ªß ƒë·ªÅ l·∫≠p tr√¨nh?</p>
                            <textarea class="answer-box" rows="3" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
                        </div>
                        <p class="font-medium">2. X√°c ƒë·ªãnh c√°c c√¥ng c·ª• l·∫≠p tr√¨nh s·∫Ω s·ª≠ d·ª•ng?</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 ml-2 mt-2 p-3 rounded-xl bg-white/30">
                            <div class="flex items-center"><input id="bt3-tool-html" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt3-tool-html" class="ml-3">HTML / CSS / Javascript</label></div>
                            <div class="flex items-center"><input id="bt3-tool-p5" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt3-tool-p5" class="ml-3">p5.js (Th∆∞ vi·ªán m√¥ ph·ªèng)</label></div>
                            <div class="flex items-center"><input id="bt3-tool-three" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt3-tool-three" class="ml-3">three.js (Th∆∞ vi·ªán 3D)</label></div>
                            <div class="flex items-center"><input id="bt3-tool-other" type="checkbox" class="w-4 h-4 text-violet-600 rounded"><label for="bt3-tool-other" class="ml-3">C√¥ng c·ª• kh√°c</label></div>
                        </div>
                        <div>
                            <p class="font-medium">3. Th·ªùi gian ho√†n th√†nh s·∫£n ph·∫©m l·∫≠p tr√¨nh?</p>
                            <textarea class="answer-box" rows="2" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 3: Nhi·ªám v·ª• ki·∫øn t·∫°o</h3>
                    <div class="space-y-5 text-slate-700">
                        <div>
                            <p class="font-medium">1. L·∫≠p k·∫ø ho·∫°ch chi ti·∫øt cho s·∫£n ph·∫©m l·∫≠p tr√¨nh:</p>
                            <textarea class="answer-box" rows="4" placeholder="M√¥ t·∫£ c√°c th√†nh ph·∫ßn, ch·ª©c nƒÉng, giao di·ªán..."></textarea>
                        </div>
                        <div>
                            <p class="font-medium">2. X√°c ƒë·ªãnh c√°c b∆∞·ªõc d√≤ l·ªói code (debugging) khi s·∫£n ph·∫©m b·ªã l·ªói:</p>
                            <textarea class="answer-box" rows="3" placeholder="Li·ªát k√™ c√°c b∆∞·ªõc d√≤ l·ªói..."></textarea>
                        </div>
                        <div>
                            <p class="font-medium">3. Vi·∫øt Prompt (c√¢u l·ªánh) cho AI ƒë·ªÉ t·∫°o code:</p>
                            <p class="p-4 bg-white/40 rounded-xl border border-violet-200 text-sm mt-2 italic text-slate-600">
                                <strong>(Prompt m·∫´u):</strong> "H√£y vi·∫øt code p5.js m√¥ ph·ªèng 4 giai ƒëo·∫°n t√°i b·∫£n DNA, c√≥ enzyme l√† h√¨nh tr√≤n, c√≥ √¢m thanh click..."
                            </p>
                            <textarea id="bt3-prompt-answer" class="answer-box" rows="6" placeholder="Vi·∫øt prompt c·ªßa b·∫°n t·∫°i ƒë√¢y..."></textarea>
                            
                            <!-- N√öT T√çCH H·ª¢P GEMINI API -->
                            <div class="mt-4 text-right">
                                <button type="button" id="gemini-improve-prompt-btn" class="glass-btn py-2 px-5 rounded-xl font-semibold text-white">
                                    ‚ú® C·∫£i thi·ªán Prompt (v·ªõi Gemini)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o -->
                <div class="glass-panel tilt-card p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-violet-700 mb-3">Ph·∫ßn 4: Th·ª≠ th√°ch s√°ng t·∫°o</h3>
                    
                    <div class="p-4 bg-indigo-50/50 rounded-xl border border-indigo-100 mb-4">
                        <p class="text-slate-700 leading-relaxed">
                            <strong>ƒê·ªÅ b√†i:</strong> T√≠ch h·ª£p c√¥ng c·ª• HTML + CSS + Javascript - hoclaptrinh.io ‚Äì Github ƒë·ªÉ thi·∫øt k·∫ø m√¥ ph·ªèng c∆° ch·∫ø t√°i b·∫£n DNA v√† h∆∞·ªõng d·∫´n/ k·∫ø ho·∫°ch gi√°o d·ª•c ƒë·ªãnh h∆∞·ªõng HS ph√°t tri·ªÉn nƒÉng l·ª±c STEM.
                        </p>
                    </div>
                    
                    <p class="text-slate-700">S·∫£n ph·∫©m m·∫´u: <a href="https://myletoday-oss.github.io/Fubao/" target="_blank" class="text-violet-600 hover:text-violet-800 hover:underline font-medium">Link tham kh·∫£o Fubao</a></p>
                    
                    <div class="mt-6 p-4 bg-white/30 rounded-xl border border-white/40 space-y-3">
                        <p class="text-slate-700 font-bold">S·∫£n ph·∫©m: N·ªôp l·∫°i 01 link GitHub Pages (s·∫£n ph·∫©m m·∫´u) V√Ä 01 ƒëo·∫°n ph·∫£n t∆∞ s∆∞ ph·∫°m.</p>
                        <input type="text" id="bt3-github-link" class="answer-box bg-white/80" placeholder="D√°n link GitHub Pages t·∫°i ƒë√¢y...">
                        
                        <!-- T√çCH H·ª¢P M·ªöI: H·ªñ TR·ª¢ VI·∫æT PH·∫¢N T∆Ø -->
                        <div class="flex justify-end">
                            <button type="button" id="gemini-reflection-btn" class="text-sm text-violet-600 font-semibold hover:text-violet-800 hover:underline flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                                ‚ú® G·ª£i √Ω d√†n √Ω ph·∫£n t∆∞ s∆∞ ph·∫°m
                            </button>
                        </div>

                        <textarea id="bt3-reflection-area" class="answer-box bg-white/80" rows="5" placeholder="Vi·∫øt ƒëo·∫°n ph·∫£n t∆∞ s∆∞ ph·∫°m c·ªßa b·∫°n t·∫°i ƒë√¢y..."></textarea>
                    </div>
                </div>
            </div>
            
        </main>
    </div>

    <!-- Modal cho T√≠nh nƒÉng Gemini -->
    <div id="gemini-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="gemini-modal-title" class="modal-title">K·∫øt qu·∫£ t·ª´ Gemini</h3>
                <button id="gemini-modal-close" class="text-slate-400 hover:text-slate-600 focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
            </div>
            <div id="gemini-modal-body-content" class="modal-body-container">
                <div class="flex justify-center items-center h-24"><div class="modal-spinner"></div></div>
            </div>
            <div class="modal-footer">
                <button id="gemini-modal-close-footer" class="px-5 py-2 bg-slate-200/80 text-slate-700 rounded-lg font-medium hover:bg-slate-300">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Navigation Logic ---
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');

            function showPage(targetId) {
                pages.forEach(page => page.classList.remove('active'));
                const targetPage = document.getElementById(targetId);
                if (targetPage) targetPage.classList.add('active');
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.target === targetId) link.classList.add('active');
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage(e.currentTarget.dataset.target);
                });
            });

            // --- Logic cho n√∫t Radio ·ªü B√†i t·∫≠p N√¢ng cao 2 (Gi·∫£n l∆∞·ª£c) ---
            const q1Radios = document.querySelectorAll('input[name="hoc-lieu-type"]');
            const q2aDiv = document.getElementById('q2-a-details');
            const q2bDiv = document.getElementById('q2-b-details');
            
            q1Radios.forEach(radio => {
                radio.addEventListener('change', (e) => {
                    if (e.target.value === 'flipbook') {
                        if(q2aDiv) q2aDiv.classList.remove('hidden');
                        if(q2bDiv) q2bDiv.classList.add('hidden');
                    } else {
                        if(q2aDiv) q2aDiv.classList.add('hidden');
                        if(q2bDiv) q2bDiv.classList.remove('hidden');
                    }
                });
            });

            // --- Gemini API Logic ---
            const modal = document.getElementById('gemini-modal');
            const modalCloseBtn = document.getElementById('gemini-modal-close');
            const modalCloseFooterBtn = document.getElementById('gemini-modal-close-footer');
            const modalTitle = document.getElementById('gemini-modal-title');
            const modalBody = document.getElementById('gemini-modal-body-content');
            const spinnerHTML = `<div class="flex justify-center items-center h-24"><div class="modal-spinner"></div></div>`;

            function openModal(title) {
                modalTitle.textContent = title;
                modalBody.innerHTML = spinnerHTML;
                modal.classList.add('active');
            }
            function closeModal() { modal.classList.remove('active'); }
            
            modalCloseBtn.addEventListener('click', closeModal);
            modalCloseFooterBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

            function simpleMarkdownParser(text) {
                if (!text) return '';
                let html = text.replace(/^### (.*$)/gim, '<h3>$1</h3>').replace(/^## (.*$)/gim, '<h3>$1</h3>')
                    .replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>').replace(/^\* (.*$)/gim, '<ul><li>$1</li></ul>')
                    .replace(/^- (.*$)/gim, '<ul><li>$1</li></ul>').replace(/<\/ul>\s*<ul>/gim, '').replace(/\n/gim, '<br>');
                return `<div class="markdown-content modal-body-text">${html}</div>`;
            }

            async function callGeminiAPI(userPrompt, systemPrompt = "") {
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const payload = { contents: [{ parts: [{ text: userPrompt }] }], systemInstruction: systemPrompt ? { parts: [{ text: systemPrompt }] } : undefined };
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    const result = await response.json();
                    return { text: simpleMarkdownParser(result.candidates?.[0]?.content?.parts?.[0]?.text) };
                } catch (error) { return { error: "L·ªói k·∫øt n·ªëi API." }; }
            }

            // --- Handlers cho c√°c n√∫t Gemini M·ªõi (B√†i t·∫≠p C∆° b·∫£n - C·∫≠p nh·∫≠t) ---
            document.querySelectorAll('.gemini-btn').forEach(btn => {
                btn.addEventListener('click', async (e) => {
                    const task = e.target.dataset.task;
                    const sourceId = e.target.dataset.source;
                    let sourceVal = sourceId ? document.getElementById(sourceId).value : "";
                    
                    let prompt = "", title = "", sysPrompt = "B·∫°n l√† tr·ª£ l√Ω gi√°o d·ª•c k·ªπ thu·∫≠t s·ªë.";

                    if (task === 'smart-review') {
                        if (!sourceVal) { alert('Vui l√≤ng nh·∫≠p m·ª•c ti√™u.'); return; }
                        prompt = `Ph√¢n t√≠ch m·ª•c ti√™u SMART: "${sourceVal}".`;
                        title = "üéØ AI Check SMART";
                        sysPrompt = "Chuy√™n gia s∆∞ ph·∫°m.";
                    } 
                    else if (task === 'design-layout') {
                        if (!sourceVal) sourceVal = "Ch∆∞a c√≥ m√¥ t·∫£.";
                        prompt = `G·ª£i √Ω c·∫£i thi·ªán b·ªë c·ª•c Poster d·ª±a tr√™n m√¥ t·∫£: "${sourceVal}". √Åp d·ª•ng nguy√™n t·∫Øc Contrast, Repetition, Alignment, Proximity.`;
                        title = "üé® G·ª£i √Ω B·ªë c·ª•c Poster";
                        sysPrompt = "Designer chuy√™n nghi·ªáp.";
                    }
                    else if (task === 'story-branch') {
                         if (!sourceVal) sourceVal = "Ch∆∞a c√≥ c·ªët truy·ªán.";
                         prompt = `X√¢y d·ª±ng 2 nh√°nh r·∫Ω k·ªãch b·∫£n th√∫ v·ªã cho c·ªët truy·ªán sau: "${sourceVal}".`;
                         title = "üîÄ G·ª£i √Ω Nh√°nh truy·ªán";
                         sysPrompt = "Bi√™n k·ªãch game gi√°o d·ª•c.";
                    }
                    else if (task === 'translate-script') {
                         if (!sourceVal) sourceVal = "Ch∆∞a c√≥ n·ªôi dung.";
                         prompt = `D·ªãch v√† vi·∫øt l·∫°i l·ªùi b√¨nh cho ƒëo·∫°n n·ªôi dung video sau sao cho t·ª± nhi√™n, ph√π h·ª£p h·ªçc sinh Vi·ªát Nam: "${sourceVal}"`;
                         title = "üéôÔ∏è K·ªãch b·∫£n L·ªìng ti·∫øng";
                         sysPrompt = "Bi√™n t·∫≠p vi√™n truy·ªÅn h√¨nh.";
                    }
                    else if (task === 'ebook-structure') {
                         if (!sourceVal) sourceVal = "Ch∆∞a c√≥ d√†n √Ω.";
                         prompt = `G·ª£i √Ω c√°ch s·∫Øp x·∫øp c√°c y·∫øu t·ªë ƒëa ph∆∞∆°ng ti·ªán (Video, Audio, Quiz) v√†o E-book d·ª±a tr√™n d√†n √Ω: "${sourceVal}" ƒë·ªÉ tƒÉng t∆∞∆°ng t√°c.`;
                         title = "üìö C·∫•u tr√∫c E-book";
                    }
                    else if (task === 'webquest-task') {
                         prompt = `G·ª£i √Ω 3 nhi·ªám v·ª• WebQuest (Truy t√¨m kho b√°u ki·∫øn th·ª©c) th√∫ v·ªã cho ch·ªß ƒë·ªÅ 'L·ªãch s·ª≠ ƒë·ªãa ph∆∞∆°ng' ho·∫∑c ch·ªß ƒë·ªÅ ng∆∞·ªùi d√πng ƒëang quan t√¢m.`;
                         title = "üó∫Ô∏è Nhi·ªám v·ª• WebQuest";
                    }
                    else if (task === 'source-eval') {
                        prompt = "Checklist 5 ti√™u ch√≠ ƒë√°nh gi√° ngu·ªìn tin uy t√≠n (CRAAP test).";
                        title = "‚úÖ Ti√™u ch√≠ ƒê√°nh gi√°";
                    }
                    else if (task === 'cc-explain') prompt = "Gi·∫£i th√≠ch c√°c lo·∫°i gi·∫•y ph√©p Creative Commons.";
                    else if (task === 'algo-logic') prompt = "L∆∞u ƒë·ªì thu·∫≠t to√°n ch·∫•m ƒëi·ªÉm t·ª± ƒë·ªông.";

                    openModal(title);
                    const res = await callGeminiAPI(prompt, sysPrompt);
                    modalBody.innerHTML = res.error || res.text;
                });
            });

            // --- Handlers cho c√°c n√∫t Gemini C≈© (Gi·ªØ nguy√™n logic) ---
            const oldBtns = [
                { id: 'gemini-review-goal-btn', prompt: (val) => `Nh·∫≠n x√©t m·ª•c ti√™u '${val}' theo ti√™u chu·∫©n SMART.`, sys: "Gi√°o vi√™n nghi√™m kh·∫Øc." },
                { id: 'gemini-suggest-plan-btn', prompt: (val) => `L·∫≠p k·∫ø ho·∫°ch E-learning cho ch·ªß ƒë·ªÅ '${val}'.`, sys: "Chuy√™n gia E-learning.", sourceId: 'bt1-q1-answer' },
                { id: 'gemini-generate-quiz-btn', prompt: (val) => `T·∫°o 3 c√¢u h·ªèi Quiz H5P ch·ªß ƒë·ªÅ '${val}'.`, sys: "Gi√°o vi√™n Sinh h·ªçc.", sourceId: 'bt1-q1-answer' },
                { id: 'gemini-improve-prompt-btn', prompt: (val) => `C·∫£i thi·ªán prompt code p5.js: '${val}'`, sys: "K·ªπ s∆∞ AI.", sourceId: 'bt3-prompt-answer' },
                { id: 'gemini-reflection-btn', prompt: () => "D√†n √Ω ph·∫£n t∆∞ s∆∞ ph·∫°m d·ª± √°n l·∫≠p tr√¨nh.", sys: "Gi·∫£ng vi√™n s∆∞ ph·∫°m." },
                { id: 'gemini-idea-gen-btn', prompt: () => "G·ª£i √Ω √Ω t∆∞·ªüng t√≠ch h·ª£p Sinh h·ªçc b·∫±ng Flipbook/Website.", sys: "Chuy√™n gia s√°ng t·∫°o." },
                { id: 'gemini-tool-analysis-btn', prompt: () => "Ph√¢n t√≠ch ∆∞u nh∆∞·ª£c ƒëi·ªÉm c√¥ng c·ª• Flipbook/Website.", sys: "Chuy√™n gia EdTech." }
            ];

            oldBtns.forEach(item => {
                const btn = document.getElementById(item.id);
                if (btn) {
                    btn.addEventListener('click', async () => {
                        let val = "";
                        if (item.sourceId) {
                            val = document.getElementById(item.sourceId)?.value;
                            if (item.sourceId === 'bt1-q1-answer' && !val) { alert("Vui l√≤ng nh·∫≠p ch·ªß ƒë·ªÅ tr∆∞·ªõc."); return; }
                        }
                        openModal("ƒêang x·ª≠ l√Ω...");
                        const promptText = typeof item.prompt === 'function' ? item.prompt(val) : item.prompt;
                        const res = await callGeminiAPI(promptText, item.sys);
                        modalBody.innerHTML = res.error || res.text;
                    });
                }
            });
        });
    </script>
</body>
</html>
